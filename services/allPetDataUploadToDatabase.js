const fs = require("fs");const path = require("path");const readline = require("readline");const dataLocation = "../public/PetsData";const allPetDataUploadToDatabase = docRef => {  let fileIndex = 1;  while (fileIndex > 0) {    let fileName = "test_" + fileIndex + ".json"; //"KJquDhsf_pets_" + fileIndex + ".json";    let dataPath = path.join(__dirname, dataLocation, fileName);    if (checkFileExist(dataPath)) {      dataParse(dataPath, docRef);      fileIndex++;    } else {      fileIndex = -1;    }  }};const checkFileExist = path => {  try {    return fs.statSync(path).isFile();  } catch (e) {    return false;  }};const dataParse = (path, docRef) => {  const rl = readline.createInterface({    input: fs.createReadStream(path),    terminal: false  });  let lineCounter = 0;  rl.on("line", line => {    let petObj = JSON.parse(line);    // start write into firestore doc    docRef      .doc(petObj.animalID)      .set(JSON.parse(line))      .then(ref => {        console.log("added doc with: ", ref);      });    // console.log(petObj.animalID);    lineCounter++;    if (lineCounter % 10 === 0) {      console.log(lineCounter, path);    }  });};module.exports = allPetDataUploadToDatabase;